import{c as b,g as K,s as N,h as W,w as q,o as v,V as J,f as B,a as Z,b as Q,p as ee,r as x,j as w,u as te,d as re,e as ne,i as ae,k as se,v as ie}from"./index-CZuK05Is.js";const oe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},le=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ce=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ue={};function I(e,t){return(ue.jsx?ce:le).test(e)}var S={},D=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,fe=/\n/g,me=/^\s*/,pe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,de=/^:\s*/,he=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ye=/^[;\s]*/,ge=/^\s+|\s+$/g,ve=`
`,L="/",M="*",g="",Ee="comment",xe="declaration",we=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function a(c){var o=c.match(fe);o&&(r+=o.length);var d=c.lastIndexOf(ve);n=~d?c.length-d:n+c.length}function s(){var c={line:r,column:n};return function(o){return o.position=new i(c),h(),o}}function i(c){this.start=c,this.end={line:r,column:n},this.source=t.source}i.prototype.content=e;function l(c){var o=new Error(t.source+":"+r+":"+n+": "+c);if(o.reason=c,o.filename=t.source,o.line=r,o.column=n,o.source=e,!t.silent)throw o}function u(c){var o=c.exec(e);if(o){var d=o[0];return a(d),e=e.slice(d.length),o}}function h(){u(me)}function f(c){var o;for(c=c||[];o=m();)o!==!1&&c.push(o);return c}function m(){var c=s();if(!(L!=e.charAt(0)||M!=e.charAt(1))){for(var o=2;g!=e.charAt(o)&&(M!=e.charAt(o)||L!=e.charAt(o+1));)++o;if(o+=2,g===e.charAt(o-1))return l("End of comment missing");var d=e.slice(2,o-2);return n+=2,a(d),e=e.slice(o),n+=2,c({type:Ee,comment:d})}}function y(){var c=s(),o=u(pe);if(o){if(m(),!u(de))return l("property missing ':'");var d=u(he),z=c({type:xe,property:F(o[0].replace(D,g)),value:d?F(d[0].replace(D,g)):g});return u(ye),z}}function p(){var c=[];f(c);for(var o;o=y();)o!==!1&&(c.push(o),f(c));return c}return h(),p()};function F(e){return e?e.replace(ge,g):g}var be=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S,"__esModule",{value:!0});S.default=_e;var ke=be(we);function _e(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,ke.default)(e),a=typeof t=="function";return n.forEach(function(s){if(s.type==="declaration"){var i=s.property,l=s.value;a?t(i,l,s):l&&(r=r||{},r[i]=l)}}),r}var k={};Object.defineProperty(k,"__esModule",{value:!0});k.camelCase=void 0;var Ce=/^--[a-zA-Z0-9_-]+$/,Ne=/-([a-z])/g,Se=/^[^-]+$/,Pe=/^-(webkit|moz|ms|o|khtml)-/,Te=/^-(ms)-/,je=function(e){return!e||Se.test(e)||Ce.test(e)},Re=function(e,t){return t.toUpperCase()},X=function(e,t){return"".concat(t,"-")},Oe=function(e,t){return t===void 0&&(t={}),je(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Te,X):e=e.replace(Pe,X),e.replace(Ne,Re))};k.camelCase=Oe;var Ae=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ie=Ae(S),De=k;function C(e,t){var r={};return!e||typeof e!="string"||(0,Ie.default)(e,function(n,a){n&&a&&(r[(0,De.camelCase)(n,t)]=a)}),r}C.default=C;var Le=C;const Me=K(Le),P={}.hasOwnProperty,Fe=new Map,Xe=/[A-Z]/g,Ge=new Set(["table","tbody","thead","tfoot","tr"]),He=new Set(["td","th"]),V="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Je(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=qe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=We(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?N:W,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=U(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function U(e,t,r){if(t.type==="element")return Ve(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ue(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return $e(e,t,r);if(t.type==="mdxjsEsm")return Ye(e,t);if(t.type==="root")return ze(e,t,r);if(t.type==="text")return Ke(e,t)}function Ve(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=N,e.schema=a),e.ancestors.push(t);const s=$(e,t.tagName,!1),i=Be(e,t);let l=j(e,t);return Ge.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!q(u):!0})),Y(e,i,s,t),T(i,l),e.ancestors.pop(),e.schema=n,e.create(t,s,i,r)}function Ue(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return v(n.type==="ExpressionStatement"),e.evaluater.evaluateExpression(n.expression)}E(e,t.position)}function Ye(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);E(e,t.position)}function $e(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=N,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:$(e,t.name,!0),i=Ze(e,t),l=j(e,t);return Y(e,i,s,t),T(i,l),e.ancestors.pop(),e.schema=n,e.create(t,s,i,r)}function ze(e,t,r){const n={};return T(n,j(e,t)),e.create(t,e.Fragment,n,r)}function Ke(e,t){return t.value}function Y(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function T(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function We(e,t,r){return n;function n(a,s,i,l){const h=Array.isArray(i.children)?r:t;return l?h(s,i,l):h(s,i)}}function qe(e,t){return r;function r(n,a,s,i){const l=Array.isArray(s.children),u=ee(n);return t(a,s,i,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Be(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&P.call(t.properties,a)){const s=Qe(e,a,t.properties[a]);if(s){const[i,l]=s;e.tableCellAlignToStyle&&i==="align"&&typeof l=="string"&&He.has(t.tagName)?n=l:r[i]=l}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function Ze(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];v(s.type==="ExpressionStatement");const i=s.expression;v(i.type==="ObjectExpression");const l=i.properties[0];v(l.type==="SpreadElement"),Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else E(e,t.position);else{const a=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];v(l.type==="ExpressionStatement"),s=e.evaluater.evaluateExpression(l.expression)}else E(e,t.position);else s=n.value===null?!0:n.value;r[a]=s}return r}function j(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:Fe;for(;++n<t.children.length;){const s=t.children[n];let i;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const h=a.get(u)||0;i=u+"-"+h,a.set(u,h+1)}}const l=U(e,s,i);l!==void 0&&r.push(l)}return r}function Qe(e,t,r){const n=B(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?Z(r):Q(r)),n.property==="style"){let a=typeof r=="object"?r:et(e,String(r));return e.stylePropertyNameCase==="css"&&(a=tt(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?oe[n.property]||n.property:n.attribute,r]}}function et(e,t){try{return Me(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new J("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=V+"#cannot-parse-style-attribute",a}}function $(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,i;for(;++s<a.length;){const l=I(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};i=i?{type:"MemberExpression",object:i,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}n=i}else n=I(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return P.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);E(e)}function E(e,t){const r=new J("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=V+"#cannot-handle-mdx-estrees-without-createevaluater",r}function tt(e){const t={};let r;for(r in e)P.call(e,r)&&(t[rt(r)]=e[r]);return t}function rt(e){let t=e.replace(Xe,nt);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function nt(e){return"-"+e.toLowerCase()}const _={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},at="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",G=[],H={allowDangerousHtml:!0},st=/^(https?|ircs?|mailto|xmpp)$/i,it=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ct(e){const t=R(e),r=O(e);return A(t.runSync(t.parse(r),r),e)}async function ut(e){const t=R(e),r=O(e),n=await t.run(t.parse(r),r);return A(n,e)}function ft(e){const t=R(e),[r,n]=x.useState(void 0),[a,s]=x.useState(void 0);if(x.useEffect(function(){const i=O(e);t.run(t.parse(i),i,function(l,u){n(l),s(u)})},[e.children,e.rehypePlugins,e.remarkPlugins,e.remarkRehypeOptions]),r)throw r;return a?A(a,e):x.createElement(w.Fragment)}function R(e){const t=e.rehypePlugins||G,r=e.remarkPlugins||G,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...H}:H;return te().use(re).use(r).use(ne,n).use(t)}function O(e){const t=e.children||"",r=new ae;return typeof t=="string"&&(r.value=t),r}function A(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,s=t.disallowedElements,i=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||ot;for(const f of it)Object.hasOwn(t,f.from)&&se("Unexpected `"+f.from+"` prop, "+(f.to?"use `"+f.to+"` instead":"remove it")+" (see <"+at+"#"+f.id+"> for more info)");return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),ie(e,h),Je(e,{Fragment:w.Fragment,components:a,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function h(f,m,y){if(f.type==="raw"&&y&&typeof m=="number")return i?y.children.splice(m,1):y.children[m]={type:"text",value:f.value},m;if(f.type==="element"){let p;for(p in _)if(Object.hasOwn(_,p)&&Object.hasOwn(f.properties,p)){const c=f.properties[p],o=_[p];(o===null||o.includes(f.tagName))&&(f.properties[p]=u(String(c||""),p,f))}}if(f.type==="element"){let p=r?!r.includes(f.tagName):s?s.includes(f.tagName):!1;if(!p&&n&&typeof m=="number"&&(p=!n(f,m,y)),p&&y&&typeof m=="number")return l&&f.children?y.children.splice(m,1,...f.children):y.children.splice(m,1),m}}}function ot(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||st.test(e.slice(0,t))?e:""}export{ut as MarkdownAsync,ft as MarkdownHooks,ct as default,ot as defaultUrlTransform};
